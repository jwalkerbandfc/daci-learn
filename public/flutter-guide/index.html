<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Guide with DartPad</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet" />
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>Flutter Masterclass</h1>
                <p>Cross-platform app development with live simulator</p>
            </div>
        </div>

        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar scrollbar-hide">
                <div class="sidebar-title">üìö Lessons</div>
                
                <div class="progress-section">
                    <div style="font-size: 0.85rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem;">Progress</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0/8 lessons completed</div>
                </div>

                <div class="lesson-list">
                    <div class="lesson-item active" data-lesson="0">Getting Started</div>
                    <div class="lesson-item" data-lesson="1">Widgets & UI</div>
                    <div class="lesson-item" data-lesson="2">Assets Management</div>
                    <div class="lesson-item" data-lesson="3">Navigation System</div>
                    <div class="lesson-item" data-lesson="4">Theme & Styling</div>
                    <div class="lesson-item" data-lesson="5">Data Persistence</div>
                    <div class="lesson-item" data-lesson="6">pubspec.yaml Config</div>
                    <div class="lesson-item" data-lesson="7">Debugging & Logging</div>
                </div>
            </div>

            <!-- Editor Section -->
            <div class="editor-section">
                <div class="editor-header">
                    <div>Lesson Content & Live Simulator</div>
                </div>

                <div class="editor-content">
                    <!-- Lesson Content -->
                    <div id="content-tab" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                        <div style="flex: 1; overflow-y: auto;" class="scrollbar-hide">
                            <!-- Lesson 0: Getting Started -->
                            <div class="lesson-content active" data-lesson="0">
                                <h2>üöÄ Getting Started with Flutter</h2>
                                <p>Flutter is Google's open-source UI framework for building beautiful, natively compiled applications for mobile, web, and desktop from a single codebase.</p>

                                <h3>Your First App</h3>
                                <p>Every Flutter app starts with the main() function. Try this example in the simulator on the right:</p>

                                <div class="code-block-snippet"><span class="code-keyword">import</span> <span class="code-string">'package:flutter/material.dart'</span>;

<span class="code-keyword">void</span> main() {
  runApp(<span class="code-keyword">const</span> <span class="code-class">MyApp</span>());
}

<span class="code-keyword">class</span> <span class="code-class">MyApp</span> <span class="code-keyword">extends</span> <span class="code-class">StatelessWidget</span> {
  <span class="code-keyword">const</span> <span class="code-class">MyApp</span>();

  @override
  <span class="code-class">Widget</span> build(<span class="code-class">BuildContext</span> context) {
    <span class="code-keyword">return</span> <span class="code-class">Scaffold</span>(
      appBar: <span class="code-class">AppBar</span>(
        title: <span class="code-keyword">const</span> <span class="code-class">Text</span>(<span class="code-string">'Hello Flutter'</span>),
      ),
      body: <span class="code-keyword">const</span> <span class="code-class">Center</span>(
        child: <span class="code-class">Text</span>(<span class="code-string">'Hello, World!'</span>),
      ),
    );
  }
}</div>

                                <div class="tip-box">
                                    <strong>üí° Pro Tip:</strong> Click "Run" in the simulator panel to execute your code and see the results immediately!
                                </div>

                                <div class="code-challenge">
                                    <div class="challenge-title">‚úèÔ∏è Challenge 1: Build Your First Widget</div>
                                    <div class="challenge-description">
                                        Create a greeting card that displays:
                                        <ul style="text-align: left; margin-top: 0.5rem;">
                                            <li>A title "Welcome to Flutter"</li>
                                            <li>A description text</li>
                                            <li>A button with "Get Started"</li>
                                        </ul>
                                    </div>
                                    <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                                        <button class="editor-button success" onclick="loadChallenge(0)">üìù Load Challenge</button>
                                        <button class="hint-button" onclick="showHint(0)">üí° Hint</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Lesson 1: Widgets -->
                            <div class="lesson-content" data-lesson="1">
                                <h2>üß© Understanding Widgets</h2>
                                <p>Everything in Flutter is a widget. Widgets are the building blocks of Flutter apps, immutable objects that describe part of the user interface.</p>

                                <h3>Stateless Widgets</h3>
                                <p>Use StatelessWidget for widgets that don't change based on user interaction:</p>

                                <div class="code-block-snippet"><span class="code-keyword">class</span> <span class="code-class">UserCard</span> <span class="code-keyword">extends</span> <span class="code-class">StatelessWidget</span> {
  <span class="code-keyword">final</span> <span class="code-class">String</span> name;

  <span class="code-keyword">const</span> <span class="code-class">UserCard</span>({<span class="code-keyword">required</span> <span class="code-keyword">this</span>.name});

  @override
  <span class="code-class">Widget</span> build(<span class="code-class">BuildContext</span> context) {
    <span class="code-keyword">return</span> <span class="code-class">Card</span>(
      child: <span class="code-class">Padding</span>(
        padding: <span class="code-keyword">const</span> <span class="code-class">EdgeInsets</span>.all(16.0),
        child: <span class="code-class">Text</span>(name),
      ),
    );
  }
}</div>

                                <h3>Stateful Widgets</h3>
                                <p>Use StatefulWidget when your widget needs to manage mutable state:</p>

                                <div class="code-challenge">
                                    <div class="challenge-title">‚úèÔ∏è Challenge 2: Create a Counter</div>
                                    <div class="challenge-description">
                                        Build a StatefulWidget with:
                                        <ul style="text-align: left; margin-top: 0.5rem;">
                                            <li>A counter display starting at 0</li>
                                            <li>Increment and decrement buttons</li>
                                            <li>State management using setState()</li>
                                        </ul>
                                    </div>
                                    <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                                        <button class="editor-button success" onclick="loadChallenge(1)">üìù Load Challenge</button>
                                        <button class="hint-button" onclick="showHint(1)">üí° Hint</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Lesson 2-7 -->
                            <div class="lesson-content" data-lesson="2">
                                <h2>üì¶ Assets Management</h2>
                                <p>Assets are resources bundled with your app like images, fonts, and data files. Configure them in pubspec.yaml and access them with Image.asset().</p>
                            </div>

                            <div class="lesson-content" data-lesson="3">
                                <h2>üß≠ Navigation System</h2>
                                <p>Flutter provides Navigator widget for managing a stack of routes. Use Navigator.push() and Navigator.pop() to navigate between screens.</p>
                            </div>

                            <div class="lesson-content" data-lesson="4">
                                <h2>üé® Theme & Styling</h2>
                                <p>Customize your app's appearance with ThemeData. Define colors, typography, and component styles globally.</p>
                            </div>

                            <div class="lesson-content" data-lesson="5">
                                <h2>üíæ Data Persistence</h2>
                                <p>Save and retrieve data locally using SharedPreferences or databases like sqflite.</p>
                            </div>

                            <div class="lesson-content" data-lesson="6">
                                <h2>üì¶ pubspec.yaml Configuration</h2>
                                <p>Your project's manifest defining dependencies, assets, and metadata.</p>
                            </div>

                            <div class="lesson-content" data-lesson="7">
                                <h2>üêõ Debugging & Logging</h2>
                                <p>Master debugging with debugPrint() and developer.log() for identifying and fixing issues.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Code Editor & Simulator -->
                    <div style="flex: 1; display: flex; gap: 1rem; overflow: hidden; min-height: 0; padding: 1.5rem;">
                        <div class="code-editor-wrapper">
                            <div class="code-editor-title">
                                <span>üìù Code Editor</span>
                                <div class="code-editor-toolbar">
                                    <button class="editor-button success" onclick="runCode()">‚ñ∂ Run</button>
                                </div>
                            </div>
                            <div class="code-input-container">
                                <textarea class="code-input" id="main-editor" placeholder="Your Dart code will appear here...">import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Hello Flutter'),
      ),
      body: const Center(
        child: Text('Hello, World!'),
      ),
    );
  }
}</textarea>
                            </div>
                        </div>

                        <div class="preview-panel">
                            <div class="preview-header">
                                <span>üì± Live Preview</span>
                                <div class="preview-status">
                                    <div class="status-indicator"></div>
                                    <span id="preview-status">Ready</span>
                                </div>
                            </div>
                            <div class="preview-viewport">
                                <div class="device-frame">
                                    <div class="device-notch"></div>
                                    <div class="device-screen">
                                        <div id="app-preview" class="flutter-app">
                                            <!-- Rendered Flutter app goes here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentLesson = 0;
        let completedLessons = new Set();
        let appState = {};

        const challenges = {
            0: {
                title: "GreetingCard Widget",
                code: `import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Welcome'),
      ),
      body: const Center(
        child: GreetingCard(),
      ),
    );
  }
}

class GreetingCard extends StatelessWidget {
  const GreetingCard();

  @override
  Widget build(BuildContext context) {
    return Card(
      child: Padding(
        padding: const EdgeInsets.all(24.0),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            const Text(
              'Welcome to Flutter',
              style: TextStyle(
                fontSize: 20,
                fontWeight: FontWeight.bold,
              ),
            ),
            const SizedBox(height: 16),
            const Text('This is your first Flutter widget!'),
            const SizedBox(height: 24),
            ElevatedButton(
              onPressed: () {},
              child: const Text('Get Started'),
            ),
          ],
        ),
      ),
    );
  }
}`,
                hint: "Create a Card widget with a Column containing Text widgets and an ElevatedButton.",
                component: 'GreetingCard'
            },
            1: {
                title: "Counter Widget",
                code: `import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Counter App'),
      ),
      body: const Center(
        child: MyCounter(),
      ),
    );
  }
}

class MyCounter extends StatefulWidget {
  const MyCounter();

  @override
  State<MyCounter> createState() => _MyCounterState();
}

class _MyCounterState extends State<MyCounter> {
  int count = 0;

  void increment() {
    setState(() {
      count++;
    });
  }

  void decrement() {
    setState(() {
      if (count > 0) count--;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        const Text(
          'Counter',
          style: TextStyle(fontSize: 24),
        ),
        const SizedBox(height: 16),
        Text(
          count.toString(),
          style: const TextStyle(
            fontSize: 48,
            fontWeight: FontWeight.bold,
            color: Color(0xFF667eea),
          ),
        ),
        const SizedBox(height: 32),
        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: decrement,
              child: const Text('-'),
            ),
            const SizedBox(width: 16),
            ElevatedButton(
              onPressed: increment,
              child: const Text('+'),
            ),
          ],
        ),
      ],
    );
  }
}`,
                hint: "Create a StatefulWidget with increment/decrement buttons that update state with setState().",
                component: 'MyCounter'
            }
        };

        // Initialize
        document.querySelectorAll('.lesson-item').forEach((item, index) => {
            item.addEventListener('click', () => switchLesson(index));
        });

        function switchLesson(index) {
            document.querySelectorAll('.lesson-content').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.lesson-item').forEach(el => {
                el.classList.remove('active');
            });

            document.querySelector(`.lesson-content[data-lesson="${index}"]`).classList.add('active');
            document.querySelector(`.lesson-item[data-lesson="${index}"]`).classList.add('active');

            currentLesson = index;
            updateProgress();
        }

        function loadChallenge(id) {
            if (!challenges[id]) return;

            const editor = document.getElementById('main-editor');
            editor.value = challenges[id].code;
            runCode();
        }

        function showHint(id) {
            if (challenges[id]) {
                alert('üí° Hint: ' + challenges[id].hint);
            }
        }

        function runCode() {
            const code = document.getElementById('main-editor').value;
            const preview = document.getElementById('app-preview');
            const status = document.getElementById('preview-status');

            try {
                // Clear previous state
                appState = { count: 0 };

                // Simulate Flutter app execution
                if (code.includes('class MyApp') || code.includes('class Scaffold')) {
                    renderFlutterApp(code, preview);
                    status.textContent = 'Running';
                } else {
                    preview.innerHTML = '<div class="error-box">‚ùå Error: No valid Flutter app found\n\nMake sure your code contains:\n- void main() function\n- A widget class extending StatelessWidget or StatefulWidget</div>';
                    status.textContent = 'Error';
                }
            } catch (error) {
                preview.innerHTML = `<div class="error-box">‚ùå Execution Error:\n\n${error.message}</div>`;
                status.textContent = 'Error';
            }
        }

        function renderFlutterApp(code, container) {
            // Determine which widget to render based on code
            if (code.includes('GreetingCard')) {
                renderGreetingCard(container);
            } else if (code.includes('MyCounter')) {
                renderCounter(container);
            } else {
                renderHelloWorld(container);
            }
        }

        function renderHelloWorld(container) {
            container.innerHTML = `
                <div class="flutter-scaffold">
                    <div class="flutter-appbar">Hello Flutter</div>
                    <div class="flutter-body">
                        <div class="flutter-center">
                            <div class="flutter-text">Hello, World!</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderGreetingCard(container) {
            container.innerHTML = `
                <div class="flutter-scaffold">
                    <div class="flutter-appbar">Welcome</div>
                    <div class="flutter-body">
                        <div class="flutter-center">
                            <div class="flutter-card">
                                <div class="flutter-column">
                                    <div style="font-weight: 600; font-size: 1.2rem; margin-bottom: 1rem; color: #667eea;">Welcome to Flutter</div>
                                    <div class="flutter-text" style="margin-bottom: 1.5rem;">This is your first Flutter widget!</div>
                                    <button class="flutter-button" onclick="alert('Get Started clicked!')">Get Started</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCounter(container) {
            if (!appState.count) appState.count = 0;

            container.innerHTML = `
                <div class="flutter-scaffold">
                    <div class="flutter-appbar">Counter App</div>
                    <div class="flutter-body">
                        <div class="flutter-center">
                            <div class="flutter-column" style="align-items: center;">
                                <div class="flutter-text" style="font-size: 1.3rem;">Counter</div>
                                <div style="font-size: 2.5rem; font-weight: bold; color: #667eea; margin: 1rem 0;">${appState.count}</div>
                                <div class="flutter-row">
                                    <button class="flutter-button" onclick="decrementCounter()">‚àí</button>
                                    <button class="flutter-button" onclick="incrementCounter()">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function incrementCounter() {
            appState.count++;
            const container = document.getElementById('app-preview');
            renderCounter(container);
        }

        function decrementCounter() {
            if (appState.count > 0) appState.count--;
            const container = document.getElementById('app-preview');
            renderCounter(container);
        }

        function updateProgress() {
            const total = 8;
            const completed = completedLessons.size;
            const percentage = (completed / total) * 100;

            document.getElementById('progress-fill').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${completed}/${total} lessons completed`;
        }

        // Initialize
        window.addEventListener('load', () => {
            runCode();
            updateProgress();
        });
    </script>
</body>
</html>
